---
title: Вход в систему
description: Авторизация и регистрация пользователей
sidebar:
  order: 6
---

## Структура раздела

### Основные экраны
- Экран входа (начальный экран)
- Экран регистрации
- Экран подтверждения email
- Экран восстановления пароля
- Экран смены пароля

### Навигация между экранами
- С экрана входа:
  - На регистрацию
  - На восстановление пароля
- С экрана регистрации:
  - На подтверждение email (после отправки формы)
  - На вход
- С экрана подтверждения email:
  - В приложение (после успешного подтверждения)
  - На регистрацию (изменить email)
- С экрана восстановления:
  - На смену пароля (по ссылке из письма)
  - На вход
- После успешной авторизации:
  - В приложение

## Компоненты интерфейса

### Экран входа
- Форма:
  - Поле email
  - Поле пароля с переключателем видимости
  - Кнопка "Войти"
- Ссылки:
  - "Забыли пароль?"
  - "Зарегистрироваться"

### Экран регистрации
- Форма:
  - Поле email
  - Поле пароля с переключателем видимости
  - Кнопка "Зарегистрироваться"
- Ссылка "Вернуться ко входу"

### Экран подтверждения email
- Информация об отправке кода
- Отображение email получателя
- Поле для ввода кода
- Кнопка "Изменить почту"

### Экран восстановления пароля
- Форма запроса:
  - Поле email
  - Кнопка "Отправить письмо"
  - Ссылка "Вернуться ко входу"

### Экран смены пароля
- Форма:
  - Поле нового пароля
  - Поле подтверждения пароля
  - Кнопка "Изменить"
  - Ссылка "Вернуться ко входу"

## Пользовательские сценарии

### Вход в систему
1. Пользователь вводит email и пароль
2. Нажимает "Войти"
3. Переходит в приложение при успехе
4. Видит сообщение об ошибке при неверных данных

### Регистрация
1. Пользователь вводит email и пароль
2. Нажимает "Зарегистрироваться"
3. Получает код на email
4. Вводит код подтверждения
5. Переходит в приложение после подтверждения

### Восстановление доступа
1. Пользователь вводит email
2. Получает письмо со ссылкой
3. Переходит по ссылке
4. Вводит новый пароль
5. Переходит в приложение

## Поведение системы

### Валидация данных
- Проверка формата email
- Проверка существования аккаунта при входе
- Проверка занятости email при регистрации
- Проверка кода подтверждения

### Обработка ошибок
- Неверный email или пароль при входе
- Некорректный код подтверждения
- Просроченная ссылка восстановления
- Ошибки сервера

## Технические заметки

### Требуют проработки
- Стратегия хранения сессий
- Механизмы защиты от атак
- Время жизни токенов и кодов
- Формат и доставка email
- Ограничение попыток входа
- Защита от подбора паролей
- Проверка актуальности ссылок

### Edge cases
- Повторные запросы кодов
- Параллельные попытки входа
- Недоступность email-сервиса
- Конфликты при смене email