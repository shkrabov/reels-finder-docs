---
title: Поиск
description: Функционал поиска reels-видео
sidebar:
  order: 1
---

# Поиск рилсов

Основной раздел приложения для поиска и анализа рилсов из базы данных сервиса.

## Структура экрана

### Основные секции
- Секция поиска и фильтрации:
  - Область поиска с выбором критериев
  - Панель активных фильтров
  - Управление поиском и фильтрацией
  - Сортировка результатов
- Секция результатов:
  - Грид с карточками рилсов
  - Подгрузка контента при прокрутке

### Модальные элементы
- Панель фильтров (открывается справа)
- Детальная карточка рилса (по центру экрана)
- Меню группировки в избранном (при действии с рилсом)

## Компоненты интерфейса

### Область поиска и фильтрации
- Поисковое поле:
  - Ввод поисковых запросов через запятую
  - Автоматическое преобразование запросов в теги
  - Возможность удаления отдельных тегов
- Дропдаун выбора области поиска:
  - В описании рилса
  - В названии профиля
  - В описании профиля
  - По хештегам
- Кнопка поиска
- Кнопка открытия фильтров с количеством активных (2)
- Кнопка подписки на результаты
- Дропдаун сортировки:
  - Просмотры: сначала больше/меньше
  - Комментарии: сначала больше/меньше
  - Лайки: сначала больше/меньше
  - Репосты: сначала больше/меньше
- Панель активных фильтров:
  - Чипсы с параметрами фильтрации
  - Формат чипса: "Параметр: значение"
  - Кнопка удаления на каждом чипсе
  - Кнопка "Сбросить все"

### Панель фильтров (модальная)
- Поисковый запрос:
  - Текстовое поле с тегами
  - Ввод значений через запятую
  - Возможность удаления отдельных тегов
- Область поиска (дропдаун)
- Исключение аккаунтов:
  - Текстовое поле с тегами
  - Ввод @username через запятую
  - Возможность удаления отдельных тегов
- Диапазоны метрик:
  - Подписчиков
  - Просмотров рилса
  - Лайков
  - Комментариев
  - Репостов
- Дата публикации (диапазон)
- Кнопки управления:
  - Сбросить все
  - Применить

### Карточка рилса в гриде
- Метаданные:
  - Имя аккаунта (@username)
  - Количество подписчиков
  - Дата и время публикации
- Статистика:
  - Просмотры
  - Лайки
  - Комментарии
  - Репосты
- Действия:
  - Добавить в избранное
  - Открыть меню действий
  - Воспроизвести видео
  - Поделиться

### Детальная карточка рилса (модальная)
- Информация об аккаунте:
  - Статистика (публикации, подписчики, подписки)
  - Описание аккаунта
  - Действия с аккаунтом:
    - Перейти в профиль
    - Подписаться на обновления
- Контент рилса:
  - Видео
  - Описание и хештеги
  - Статистика
- Действия:
  - Скачать
  - Добавить в избранное
  - Открыть в Instagram

### Меню действий с рилсом (модальное)
- Скачать рилс
- Все публикации аккаунта
- Подписаться на обновления аккаунта

### Меню группировки в избранном (модальное)
- Список существующих групп с чекбоксами
- Поле для создания новой группы
- Кнопки:
  - Сохранить
  - Не добавлять в избранное

## Пользовательские сценарии

### Поиск контента
1. Ввод поисковых запросов в поисковое поле
2. Выбор области поиска из дропдауна
3. Поиск выполняется при нажатии на кнопку "Найти"
4. Система отображает количество найденных рилсов
5. При необходимости поиск уточняется через фильтры

### Взаимодействие с рилсом в гриде
1. Предпросмотр видео:
   - При наведении на карточку
   - Автоматическое воспроизведение
   - Без звука
2. Действия с карточкой:
   - Клик по видео → открытие модального окна
   - Клик по иконке избранного → добавление/удаление
   - Открытие меню действий → выбор действия

### Работа с модальным окном рилса
1. Просмотр видео:
   - Автоматическое воспроизведение
   - Управление звуком
   - Полноэкранный режим
2. Действия:
   - Добавление в избранное
   - Скачивание рилса
   - Переход в Instagram
   - Подписка на обновления аккаунта

### Работа с фильтрами
1. Открытие модального окна
2. Настройка параметров
3. Применение фильтров:
   - Все фильтры применяются одновременно
   - Обновляется счетчик найденных рилсов
   - Обновляется грид с результатами

### Подписка на результаты
1. Нажатие "Подписаться"
2. Сохранение текущих параметров:
   - Поисковый запрос
   - Все активные фильтры
   - Выбранная сортировка

## Поведение системы

### Начальное состояние
- При первом входе отображаются последние добавленные рилсы
- Сортировка по дате добавления (по убыванию)
- Фильтры не применены

### Сохранение состояния
- При возврате в раздел восстанавливаются примененные фильтры

### Поиск и фильтрация
- Поиск выполняется при нажатии на кнопку "Найти"
- Фильтры применяются при нажатии на кнопку "Применить"
- При новом поиске или изменении фильтров:
  - Очищаются текущие результаты
  - Загружается новый список рилсов
  - Страница прокручивается вверх

### Загрузка контента
- При первой загрузке отображается 20 рилсов
- Следующие 20 рилсов подгружаются автоматически при прокрутке страницы

## Технические заметки

### Требуют проработки
- Оптимизация воспроизведения видео в гриде
- Стратегия предзагрузки видео
- Обработка ошибок загрузки медиаконтента
- Механизм фоновой подгрузки данных

### Edge cases
- Медленное интернет-соединение
- Недоступность видеоконтента
- Параллельное воспроизведение нескольких видео
- Прерывание загрузки при смене фильтров